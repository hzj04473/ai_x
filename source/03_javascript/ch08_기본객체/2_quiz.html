<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title></title>
    <style>
      table {
        width: 350px;
        margin: 20px auto;
        padding: 20px 10px;
      }
      table,
      input[type='text'],
      input[type='password'] {
        border: 1px solid #385d81;
        outline: 1px solid #385d81;
        padding: 2px;
      }
      input[type='submit'],
      input[type='reset'],
      input[type='button'],
      button {
        background-color: #385d81;
        border: 0;
        outline: 0;
        color: white;
        border-radius: 3px;
        padding: 10px 20px;
        margin: 5px;
      }
      td,
      th {
        padding: 5px 10px;
        text-align: center;
      }
    </style>
    <script>
      const joinCheck = () => {
        let patternNum = /[0-9]/; /* 숫자 /정규표현식/ : 정규표현식 리터럴 */
        let patternEng = /[a-zA-Z]/; /* 영문 */
        let patternKor = /[가-힣ㄱ-하-ㅣ]/; /* 한글 */
        let patternSpc = /[~`!@#$%^&*()_\-+=\|\\\[\]{}'":;?\/<>,\.]/; // 특수문자 정규표현식
        let patternEmail = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/; // 이메일 형식

        let name = frm.name;
        let mail = frm.mail;
        let pw = frm.pw;
        let pwChk = frm.pwChk;

        if (name.value.trim().length == 0) {
          alert('이름을 입력하여 주세요.');
          name.focus();
          return false;
        }

        if (name.value.trim().length < 2) {
          alert('이름을 두 글자 이상 입력하여 주세요.');
          name.focus();
          return false;
        }

        if (patternSpc.test(name.value) || patternNum.test(name.value)) {
          alert('특수문자나 숫자는 올수 올수없습니다.');
          name.focus();
          return false;
        }

        if (mail.value.trim().length == 0) {
          alert('메일을 입력하여 주세요.');
          mail.focus();
          return false;
        }

        if (!mail.value.match(patternEmail)) {
          alert('메일 형식이 틀립니다. 메일을 다시 확인 하여 주세요.');
          mail.focus();
          mail.value = '';
          return false;
        }

        if (pw.value.trim().length == 0) {
          alert('비밀번호를 입력하여 주세요.');
          pw.focus();
          pw.value = '';
          return false;
        }

        if (pw.value.trim().length < 4) {
          alert('비밀번호를 4글자 이상 입력하여 주세요.');
          pw.focus();
          pw.value = '';
          return false;
        }

        if (!patternSpc.test(pw.value) || !patternEng.test(pw.value) || !patternNum.test(pw.value)) {
          alert('비밀번호에는 특수문자 알파벳 숫자가 포함되어 있어야 합니다.');
          pw.focus();
          pw.value = '';
          return false;
        }

        if (pwChk.value.trim().length == 0) {
          alert('비밀번호를 확인해 주세요.');
          pwChk.focus();
          pwChk.value = '';
          return false;
        }

        // if (!patternSpc.test(pwChk.value) || !patternEng.test(pwChk.value) || !patternNum.test(pwChk.value)) {
        //   alert('비밀번호에는 특수문자 알파벳 숫자가 포함되어 있어야 합니다.');
        //   pw.focus();
        //   return false;
        // }

        if (pw.value.trim() != pwChk.value.trim()) {
          alert('비밀번호를 같게 입력했는지, 확인해 주세요.');
          pwChk.focus();
          pwChk.value = '';
          return false;
        }
      };
    </script>
  </head>
  <body>
    <form action="#" name="frm" onsubmit="return joinCheck()">
      <table>
        <tr>
          <th>이름</th>
          <td><input type="text" name="name" placeholder="특수문자와 숫자 못 와" autofocus="autofocus" /></td>
        </tr>
        <tr>
          <th>메일</th>
          <td><input type="text" name="mail" placeholder="메일 형식에 맞추세요" /></td>
        </tr>
        <tr>
          <th>비밀번호</th>
          <td><input type="password" name="pw" placeholder="특수문자,알파벳,숫자 포함" /></td>
        </tr>
        <tr>
          <th>비밀번호</th>
          <td><input type="password" name="pwChk" /></td>
        </tr>
        <tr>
          <td colspan="2">
            <input type="submit" value="회원가입" />
            <input type="reset" value="취소" />
            <input type="button" value="로그인" />
          </td>
        </tr>
      </table>
    </form>
  </body>
</html>
